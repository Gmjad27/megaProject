<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J.A.R.V.I.S</title>
    <link rel="stylesheet" href="register.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>
</head>

<body class="bg-black text-light style=" overflow: hidden;">
    <div id="alert-d" class="alert alert-danger" style="position: absolute; display: none;"><strong>Access Denied
        </strong>! E-MAIL or Password wrong!</div>
    <div id="alert-s" class="alert alert-success" style="position: absolute;display: none; "><strong>Login
        </strong>successfully.</div>

    <!-- <p>you dont</p> -->
    <div class="container">
        <div class="co">


            <h1>Sign in</h1><br>
            <p style="font-size: 20px;">Welcome sir! <br>Please log in to your account.</p><br><br>
            <!-- <p style="font-size: 20px;">Please use your registered email and password.</p><br><br> -->

            <form>

                <label for="email">E-mail:</label><br>
                <input type="email" id="email" name="email" placeholder="@jarvis.com" required>
                <br><br>


                <label for="password">Password:</label><br>
                <input type="password" id="password" name="password" placeholder="*************" required>
                
                
                <label for="show" class="eye-o" id="eye-o"><i class="bi bi-eye"></i></label>
                <label for="show" class="eye-c" id="eye-c"><i class="bi bi-eye-slash"></i></label>
                <!-- <div class="invalid-feedback" style="height: 20px;">Invalid E-mail or Password !</div> -->
                <input type="checkbox" id="show" onclick="myFunction()" style="display: none;">
                <br><br><br>

                <!-- </button type="submit" value="Sign in" class="btn btn-primary""></botton> -->
                <button type="submit" class="btn btn-outline-info text-center"
                    style="margin-left: 30%; transition: 0.3s; width: 190px;">Sign
                    in</button>
            </form>
            <br><br>
            <p>Don't have an account ? <a href="#" onclick="window.location.replace('./register.html')">Sign up</a></p>
        </div>
    </div>

    <script type="text/javascript" src="/eel.js"></script>
    <script>

        document.querySelector('form').addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent the form from submitting normally


            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;


            eel.check_login(email, password)(function (response) {
                if (response == "s") {
                    window.location.href = './index.html'; // Redirect to login page on success
                    // alert('Login successful!');
                    // eel.TextToSpeech("Login successful!")();

                    document.getElementById('alert-s').style.display = 'block';
                } else {
                    // alert('Login failed: Email or password wrong!');
                    // eel.TextToSpeech("access denied.")();
                    document.getElementById('alert-d').style.display = 'block';
                }
            });


        });

        function myFunction() {
            var x = document.getElementById("password");
            var y = document.getElementById("eye-c");
            var z = document.getElementById("eye-o");
            if (x.type === "password") {
                x.type = "text";
                y.style.display = "block";
                z.style.display = "none";
            } else {
                x.type = "password";
                y.style.display = "none";
                z.style.display = "block";
            }
        }
    </script>
</body>

</html>